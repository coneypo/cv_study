<!DOCTYPE html>
<html lang="en">
<head>
<!-- HTML header for doxygen 1.8.12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Action Recognition Python* Demo - OpenVINO Toolkit</title>
<script type="text/javascript" src="jquery.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="dynsections.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../assets/versions_raw.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="../assets/openvino-versions.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="openvino-layout.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectalign">
   <div id="projectname"><a href="<domain_placeholder>" class="homelink-id">OpenVINO Toolkit</a></div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js?v=e23bd1c8e92f867d90ca8af9d83669a3"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Action Recognition Python* Demo </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the demo application for Action Recognition algorithm, which classifies actions that are being performed on input video. The following pre-trained models are delivered with the product:</p><ul>
<li><code>driver-action-recognition-adas-0002-encoder</code> + <code>driver-action-recognition-adas-0002-decoder</code>, which are models for driver monitoring scenario. They recognize actions like safe driving, talking to the phone and others</li>
<li><code>action-recognition-0001-encoder</code> + <code>action-recognition-0001-decoder</code>, which are general-purpose action recognition (400 actions) models for Kinetics-400 dataset.</li>
</ul>
<p>For more information about the pre-trained models, refer to the <a class="el" href="_models_intel_index.html">model documentation</a>.</p>
<h2>How It Works </h2>
<p>The demo pipeline consists of several frames, namely <code>Data</code>, <code>Encoder</code>, <code>Decoder</code> and <code>Render</code>. Every step implements <code>PipelineStep</code> interface by creating a class derived from <code>PipelineStep</code> base class. See <code>steps.py</code> for implementation details.</p>
<ul>
<li><code>DataStep</code> reads frames from the input video.</li>
<li><code>EncoderStep</code> preprocesses a frame and feeds it to the encoder model to produce a frame embedding.</li>
<li><code>DecoderStep</code> feeds embeddings produced by the <code>EncoderStep</code> to the decoder model and produces predictions.</li>
<li><code>RenderStep</code> renders prediction results.</li>
</ul>
<p>Pipeline steps are composed in <code>AsyncPipeline</code>. Every step can be run in separate thread by adding it to the pipeline with <code>parallel=True</code> option. When two consequent steps occur in separate threads, they communicate via message queue (for example, deliver step result or stop signal).</p>
<p>To ensure maximum performance, Inference Engine models are wrapped in <code>AsyncWrapper</code> that uses Inference Engine async API by scheduling infer requests in cyclical order (inference on every new input is started asynchronously, result of the longest working infer request is returned). You can change the value of <code>num_requests</code> in <code>action_recognition.py</code> to find an optimal number of parallel working infer requests for your inference accelerators (Compute Sticks and GPUs benefit from higher number of infer requests).</p>
<blockquote class="doxtable">
<p><b>NOTE</b>: By default, Open Model Zoo demos expect input with BGR channels order. If you trained your model to work with RGB order, you need to manually rearrange the default channels order in the demo application or reconvert your model using the Model Optimizer tool with <code>--reverse_input_channels</code> argument specified. For more information about the argument, refer to <b>When to Reverse Input Channels</b> section of <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_prepare_model_convert_model_Converting_Model_General.html">Converting a Model Using General Conversion Parameters</a>. </p>
</blockquote>
<h2>Running </h2>
<p>Running the application with the <code>-h</code> option yields the following usage message:</p>
<div class="fragment"><div class="line">usage: action_recognition.py [-h] -m_en M_ENCODER -m_de M_DECODER -i INPUT</div><div class="line">                             [-l CPU_EXTENSION] [-d DEVICE] [--fps FPS]</div><div class="line">                             [-lb LABELS]</div><div class="line"></div><div class="line">Options:</div><div class="line">  -h, --help            Show this help message and exit.</div><div class="line">  -m_en M_ENCODER, --m_encoder M_ENCODER</div><div class="line">                        Required. Path to encoder model</div><div class="line">  -m_de M_DECODER, --m_decoder M_DECODER</div><div class="line">                        Required. Path to decoder model</div><div class="line">  -i INPUT, --input INPUT</div><div class="line">                        Required. Id of the video capturing device to open (to</div><div class="line">                        open default camera just pass 0), path to a video or a</div><div class="line">                        .txt file with a list of ids or video files (one</div><div class="line">                        object per line)</div><div class="line">  -l CPU_EXTENSION, --cpu_extension CPU_EXTENSION</div><div class="line">                        Optional. For CPU custom layers, if any. Absolute path</div><div class="line">                        to a shared library with the kernels implementation.</div><div class="line">  -d DEVICE, --device DEVICE</div><div class="line">                        Optional. Specify a target device to infer on. CPU,</div><div class="line">                        GPU, FPGA, HDDL or MYRIAD is acceptable. The demo will</div><div class="line">                        look for a suitable plugin for the device specified.</div><div class="line">                        Default value is CPU</div><div class="line">  --fps FPS             Optional. FPS for renderer</div><div class="line">  -lb LABELS, --labels LABELS</div><div class="line">                        Optional. Path to file with label names</div></div><!-- fragment --><p>Running the application with an empty list of options yields the usage message given above and an error message.</p>
<p>To run the demo, you can use public or pre-trained models. To download the pre-trained models, use the OpenVINO <a class="el" href="_tools_downloader_README.html">Model Downloader</a> or go to <a href="https://download.01.org/opencv/">https://download.01.org/opencv/</a>.</p>
<blockquote class="doxtable">
<p><b>NOTE</b>: Before running the demo with a trained model, make sure the model is converted to the Inference Engine format (*.xml + *.bin) using the <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_Deep_Learning_Model_Optimizer_DevGuide.html">Model Optimizer tool</a>. </p>
</blockquote>
<p><b>For example</b>, to run the demo for in-cabin driver monitoring scenario, please provide a path to the encoder and decoder models, an input video and a file with label names: </p><div class="fragment"><div class="line">python3 action_recognition.py -m_en models/driver_action_recognition_tsd_0002_encoder.xml \</div><div class="line">    -m_de models/driver_action_recognition_tsd_0002_decoder.xml \</div><div class="line">    -i &lt;path_to_video&gt;/inputVideo.mp4 \</div><div class="line">    -lb driver_actions.txt</div></div><!-- fragment --><h2>Demo Output </h2>
<p>The application uses OpenCV to display the real-time results and current inference performance (in FPS).</p>
<h2>See Also</h2>
<ul>
<li><a class="el" href="_demos_README.html">Using Open Model Zoo demos</a></li>
<li><a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_Deep_Learning_Model_Optimizer_DevGuide.html">Model Optimizer</a></li>
<li><a class="el" href="_tools_downloader_README.html">Model Downloader</a> </li>
</ul>
</div></div><!-- contents -->
  <div class="footer">
  <div id="nav-path" class="navpath"></div>
  <div class="footer-content">
    <div class="footer-column">
      <h4>Support</h4>
      <ul>
        <li>
          <a href="https://software.intel.com/en-us/forums/computer-vision">Intel Developer Zone Forum for Intel Distribution of OpenVINO Toolkit</a></li>
      </ul>
    </div>
  </div>
  <div class="copyright">
    <p>Documentation for OpenVINO Toolkit.<br/>
    For more complete information about compiler optimizations, see our <a href="/<version_placeholder>/_docs_IE_DG_Optimization_notice.html">Optimization Notice</a></p>
  </div>
</div>
</body>
</html>