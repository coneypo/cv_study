<!DOCTYPE html>
<html lang="en">
<head>
<!-- HTML header for doxygen 1.8.12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Migration from Inference Engine Plugin API to Core API - OpenVINO Toolkit</title>
<script type="text/javascript" src="jquery.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="dynsections.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../assets/versions_raw.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="../assets/openvino-versions.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="openvino-layout.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectalign">
   <div id="projectname"><a href="<domain_placeholder>" class="homelink-id">OpenVINO Toolkit</a></div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js?v=e23bd1c8e92f867d90ca8af9d83669a3"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Migration from Inference Engine Plugin API to Core API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>For 2019 R2 Release, the new Inference Engine Core API is introduced. This guide is updated to reflect the new API approach. The Inference Engine Plugin API is still supported, but is going to be deprecated in future releases.</p>
<p>This section provides common steps to migrate your application written using the Inference Engine Plugin API (<code><a class="el" href="classInferenceEngine_1_1InferencePlugin.html" title="This class is a C++ API wrapper for IInferencePlugin. It can throw exceptions safely for the applicat...">InferenceEngine::InferencePlugin</a></code>) to the Inference Engine Core API (<code><a class="el" href="classInferenceEngine_1_1Core.html" title="This class represents Inference Engine Core entity. It can throw exceptions safely for the applicatio...">InferenceEngine::Core</a></code>).</p>
<p>To learn how to write a new application using the Inference Engine, refer to <a class="el" href="_docs_IE_DG_Integrate_with_customer_application_new_API.html">Integrate the Inference Engine Request API with Your Application</a> and <a class="el" href="_docs_IE_DG_Samples_Overview.html">Inference Engine Samples Overview</a>.</p>
<h2>Inference Engine Core Class</h2>
<p>The Inference Engine Core class is implemented on top existing Inference Engine Plugin API and handles plugins internally. The main responsibility of the <code><a class="el" href="classInferenceEngine_1_1Core.html" title="This class represents Inference Engine Core entity. It can throw exceptions safely for the applicatio...">InferenceEngine::Core</a></code> class is to hide plugin specifics inside and provide a new layer of abstraction that works with devices (<code><a class="el" href="classInferenceEngine_1_1Core.html#acb212aa879e1234f51b845d2befae41c" title="Returns devices available for neural networks inference. ">InferenceEngine::Core::GetAvailableDevices</a></code>). Almost all methods of this class accept <code>deviceName</code> as an additional parameter that denotes an actual device you are working with. Plugins are listed in the <code>plugins.xml</code> file, which is loaded during constructing <code><a class="el" href="classInferenceEngine_1_1Core.html" title="This class represents Inference Engine Core entity. It can throw exceptions safely for the applicatio...">InferenceEngine::Core</a></code> objects:</p>
<div class="fragment"><div class="line">&lt;ie&gt;</div><div class="line">    &lt;plugins&gt;</div><div class="line">        &lt;plugin name=&quot;CPU&quot; location=&quot;libMKLDNNPlugin.so&quot;&gt;</div><div class="line">        &lt;/plugin&gt;</div><div class="line">        ...</div><div class="line">&lt;/ie&gt;</div></div><!-- fragment --><h2>Migration Steps</h2>
<p>Common migration process includes the following steps:</p>
<ol type="1">
<li>Migrate from the <code><a class="el" href="classInferenceEngine_1_1InferencePlugin.html" title="This class is a C++ API wrapper for IInferencePlugin. It can throw exceptions safely for the applicat...">InferenceEngine::InferencePlugin</a></code> initialization: <div class="fragment"><div class="line"><a class="code" href="classInferenceEngine_1_1InferencePlugin.html">InferenceEngine::InferencePlugin</a> plugin = <a class="code" href="classInferenceEngine_1_1PluginDispatcher.html">InferenceEngine::PluginDispatcher</a>({ FLAGS_pp }).getPluginByDevice(FLAGS_d);</div></div><!-- fragment --> to the <code><a class="el" href="classInferenceEngine_1_1Core.html" title="This class represents Inference Engine Core entity. It can throw exceptions safely for the applicatio...">InferenceEngine::Core</a></code> class initialization: <div class="fragment"><div class="line"><a class="code" href="classInferenceEngine_1_1Core.html">InferenceEngine::Core</a> core;</div></div><!-- fragment --></li>
<li>Instead of adding CPU device extensions to the plugin: <div class="fragment"><div class="line">plugin.<a class="code" href="classInferenceEngine_1_1InferencePlugin.html#a939237b250297a8172efd104d376cca3">AddExtension</a>(std::make_shared&lt;Extensions::Cpu::CpuExtensions&gt;());</div></div><!-- fragment --> add extensions to CPU device using the Core class: <div class="fragment"><div class="line">core.<a class="code" href="classInferenceEngine_1_1Core.html#aa1ddb53f4160bf0735239f4aa0c12320">AddExtension</a>(std::make_shared&lt;Extensions::Cpu::CpuExtensions&gt;(), <span class="stringliteral">&quot;CPU&quot;</span>);</div></div><!-- fragment --></li>
<li>Instead of setting configuration keys to a particular plugin, set (key, value) pairs via <code><a class="el" href="classInferenceEngine_1_1Core.html#a268e2d24595061e9d804460cc6ca9ad3" title="Sets configuration for device, acceptable keys can be found in ie_plugin_config.hpp. ">InferenceEngine::Core::SetConfig</a></code> <div class="fragment"><div class="line">core.<a class="code" href="classInferenceEngine_1_1Core.html#a268e2d24595061e9d804460cc6ca9ad3">SetConfig</a>({{<a class="code" href="namespaceInferenceEngine_1_1PluginConfigParams.html#a8b8c53f571862c6c394c67f3a66e7db2">PluginConfigParams::KEY_CONFIG_FILE</a>, FLAGS_c}}, <span class="stringliteral">&quot;GPU&quot;</span>);</div></div><!-- fragment --> <blockquote class="doxtable">
<p><b>NOTE</b>: If <code>deviceName</code> is omitted as the last argument, configuration is set for all Inference Engine devices. </p>
</blockquote>
</li>
<li>Migrate from loading the network to a particular plugin: <div class="fragment"><div class="line"><span class="keyword">auto</span> execNetwork = plugin.<a class="code" href="classInferenceEngine_1_1InferencePlugin.html#a0ca00d832aa35ecdefdfb456b62e51d4">LoadNetwork</a>(network, { });</div></div><!-- fragment --> to <code><a class="el" href="classInferenceEngine_1_1Core.html#afcd1cc386d0ef3d2d33c6bf7d447d5ff" title="Creates an executable network from a network object. Users can create as many networks as they need a...">InferenceEngine::Core::LoadNetwork</a></code> to a particular device: <div class="fragment"><div class="line"><span class="keyword">auto</span> execNetwork = core.<a class="code" href="classInferenceEngine_1_1Core.html#afcd1cc386d0ef3d2d33c6bf7d447d5ff">LoadNetwork</a>(network, deviceName, { });</div></div><!-- fragment --></li>
</ol>
<p>After you have an instance of <code><a class="el" href="classInferenceEngine_1_1ExecutableNetwork.html" title="wrapper over IExecutableNetwork ">InferenceEngine::ExecutableNetwork</a></code>, all other steps are as usual. </p>
</div></div><!-- contents -->
  <div class="footer">
  <div id="nav-path" class="navpath"></div>
  <div class="footer-content">
    <div class="footer-column">
      <h4>Support</h4>
      <ul>
        <li>
          <a href="https://software.intel.com/en-us/forums/computer-vision">Intel Developer Zone Forum for Intel Distribution of OpenVINO Toolkit</a></li>
      </ul>
    </div>
  </div>
  <div class="copyright">
    <p>Documentation for OpenVINO Toolkit.<br/>
    For more complete information about compiler optimizations, see our <a href="/<version_placeholder>/_docs_IE_DG_Optimization_notice.html">Optimization Notice</a></p>
  </div>
</div>
</body>
</html>