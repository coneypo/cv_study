<!DOCTYPE html>
<html lang="en">
<head>
<!-- HTML header for doxygen 1.8.12 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Converting a MXNet* Model - OpenVINO Toolkit</title>
<script type="text/javascript" src="jquery.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="dynsections.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../assets/versions_raw.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="../assets/openvino-versions.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
<script type="text/javascript" src="openvino-layout.js?v=061b82a77ebb139b894ce81faa5ba1f6"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectalign">
   <div id="projectname"><a href="<domain_placeholder>" class="homelink-id">OpenVINO Toolkit</a></div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js?v=e23bd1c8e92f867d90ca8af9d83669a3"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Converting a MXNet* Model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A summary of the steps for optimizing and deploying a model that was trained with the MXNet* framework:</p>
<ol type="1">
<li><a class="el" href="_docs_MO_DG_prepare_model_Config_Model_Optimizer.html">Configure the Model Optimizer</a> for MXNet* (MXNet was used to train your model)</li>
<li><a href="#ConvertMxNet">Convert a MXNet model</a> to produce an optimized <a class="el" href="_docs_MO_DG_prepare_model_convert_model_IRLayersCatalogSpec.html">Intermediate Representation (IR)</a> of the model based on the trained network topology, weights, and biases values</li>
<li>Test the model in the Intermediate Representation format using the <a class="el" href="_docs_IE_DG_Deep_Learning_Inference_Engine_DevGuide.html">Inference Engine</a> in the target environment via provided Inference Engine <a class="el" href="_docs_IE_DG_Samples_Overview.html">sample applications</a></li>
<li><a class="el" href="_docs_IE_DG_Samples_Overview.html">Integrate</a> the <a class="el" href="_docs_IE_DG_Deep_Learning_Inference_Engine_DevGuide.html">Inference Engine</a> in your application to deploy the model in the target environment</li>
</ol>
<h2>Supported Topologies</h2>
<table class="doxtable">
<tr>
<th>Model Name</th><th align="center">Model File  </th></tr>
<tr>
<td>VGG-16</td><td align="center"><a href="https://github.com/dmlc/mxnet-model-gallery/tree/master">Repo</a>, <a href="http://data.dmlc.ml/models/imagenet/vgg/vgg16-symbol.json">Symbol</a>, <a href="http://data.dmlc.ml/models/imagenet/vgg/vgg16-0000.params">Params</a> </td></tr>
<tr>
<td>VGG-19</td><td align="center"><a href="https://github.com/dmlc/mxnet-model-gallery/tree/master">Repo</a>, <a href="http://data.dmlc.ml/models/imagenet/vgg/vgg19-symbol.json">Symbol</a>, <a href="http://data.dmlc.ml/models/imagenet/vgg/vgg19-0000.params">Params</a> </td></tr>
<tr>
<td>ResNet-152 v1</td><td align="center"><a href="https://github.com/apache/incubator-mxnet/blob/master/docs/model_zoo">Repo</a>, <a href="http://data.dmlc.ml/models/imagenet/resnet/152-layers/resnet-152-symbol.json">Symbol</a>, <a href="http://data.dmlc.ml/models/imagenet/resnet/152-layers/resnet-152-0000.params">Params</a> </td></tr>
<tr>
<td>SqueezeNet_v1.1</td><td align="center"><a href="https://github.com/apache/incubator-mxnet/blob/master/docs/model_zoo">Repo</a>, <a href="http://data.dmlc.ml/models/imagenet/squeezenet/squeezenet_v1.1-symbol.json">Symbol</a>, <a href="http://data.dmlc.ml/models/imagenet/squeezenet/squeezenet_v1.1-0000.params">Params</a> </td></tr>
<tr>
<td>Inception BN</td><td align="center"><a href="https://github.com/dmlc/mxnet-model-gallery/tree/master">Repo</a>, <a href="http://data.dmlc.ml/models/imagenet/inception-bn/Inception-BN-symbol.json">Symbol</a>, <a href="http://data.dmlc.ml/models/imagenet/inception-bn/Inception-BN-0126.params">Params</a> </td></tr>
<tr>
<td>CaffeNet</td><td align="center"><a href="https://github.com/dmlc/mxnet-model-gallery/tree/master">Repo</a>, <a href="http://data.dmlc.ml/mxnet/models/imagenet/caffenet/caffenet-symbol.json">Symbol</a>, <a href="http://data.dmlc.ml/models/imagenet/caffenet/caffenet-0000.params">Params</a> </td></tr>
<tr>
<td>DenseNet-121</td><td align="center"><a href="https://github.com/miraclewkf/DenseNet">Repo</a>, <a href="https://raw.githubusercontent.com/miraclewkf/DenseNet/master/model/densenet-121-symbol.json">Symbol</a>, <a href="https://drive.google.com/file/d/0ByXcv9gLjrVcb3NGb1JPa3ZFQUk/view?usp=drive_web">Params</a> </td></tr>
<tr>
<td>DenseNet-161</td><td align="center"><a href="https://github.com/miraclewkf/DenseNet">Repo</a>, <a href="https://raw.githubusercontent.com/miraclewkf/DenseNet/master/model/densenet-161-symbol.json">Symbol</a>, <a href="https://drive.google.com/file/d/0ByXcv9gLjrVcS0FwZ082SEtiUjQ/view">Params</a> </td></tr>
<tr>
<td>DenseNet-169</td><td align="center"><a href="https://github.com/miraclewkf/DenseNet">Repo</a>, <a href="https://raw.githubusercontent.com/miraclewkf/DenseNet/master/model/densenet-169-symbol.json">Symbol</a>, <a href="https://drive.google.com/file/d/0ByXcv9gLjrVcOWZJejlMOWZvZmc/view">Params</a> </td></tr>
<tr>
<td>DenseNet-201</td><td align="center"><a href="https://github.com/miraclewkf/DenseNet">Repo</a>, <a href="https://raw.githubusercontent.com/miraclewkf/DenseNet/master/model/densenet-201-symbol.json">Symbol</a>, <a href="https://drive.google.com/file/d/0ByXcv9gLjrVcUjF4MDBwZ3FQbkU/view">Params</a> </td></tr>
<tr>
<td>MobileNet</td><td align="center"><a href="https://github.com/KeyKy/mobilenet-mxnet">Repo</a>, <a href="https://github.com/KeyKy/mobilenet-mxnet/blob/master/mobilenet.py">Symbol</a>, <a href="https://github.com/KeyKy/mobilenet-mxnet/blob/master/mobilenet-0000.params">Params</a> </td></tr>
<tr>
<td>SSD-ResNet-50</td><td align="center"><a href="https://github.com/zhreshold/mxnet-ssd">Repo</a>, <a href="https://github.com/zhreshold/mxnet-ssd/releases/download/v0.6/resnet50_ssd_512_voc0712_trainval.zip">Symbol + Params</a> </td></tr>
<tr>
<td>SSD-VGG-16-300</td><td align="center"><a href="https://github.com/zhreshold/mxnet-ssd">Repo</a>, <a href="https://github.com/zhreshold/mxnet-ssd/releases/download/v0.5-beta/vgg16_ssd_300_voc0712_trainval.zip">Symbol + Params</a> </td></tr>
<tr>
<td>SSD-Inception v3</td><td align="center"><a href="https://github.com/zhreshold/mxnet-ssd">Repo</a>, <a href="https://github.com/zhreshold/mxnet-ssd/releases/download/v0.7-alpha/ssd_inceptionv3_512_voc0712trainval.zip">Symbol + Params</a> </td></tr>
<tr>
<td>FCN8 (Semantic Segmentation)</td><td align="center"><a href="https://github.com/apache/incubator-mxnet/tree/master/example/fcn-xs">Repo</a>, <a href="https://www.dropbox.com/sh/578n5cxej7ofd6m/AAA9SFCBN8R_uL2CnAd3WQ5ia/FCN8s_VGG16-symbol.json?dl=0">Symbol</a>, <a href="https://www.dropbox.com/sh/578n5cxej7ofd6m/AABHWZHCtA2P6iR6LUflkxb_a/FCN8s_VGG16-0019-cpu.params?dl=0">Params</a> </td></tr>
<tr>
<td>MTCNN part 1 (Face Detection)</td><td align="center"><a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection">Repo</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det1-symbol.json">Symbol</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det1-0001.params">Params</a> </td></tr>
<tr>
<td>MTCNN part 2 (Face Detection)</td><td align="center"><a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection">Repo</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det2-symbol.json">Symbol</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det2-0001.params">Params</a> </td></tr>
<tr>
<td>MTCNN part 3 (Face Detection)</td><td align="center"><a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection">Repo</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det3-symbol.json">Symbol</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det3-0001.params">Params</a> </td></tr>
<tr>
<td>MTCNN part 4 (Face Detection)</td><td align="center"><a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection">Repo</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det4-symbol.json">Symbol</a>, <a href="https://github.com/pangyupo/mxnet_mtcnn_face_detection/blob/master/model/det4-0001.params">Params</a> </td></tr>
<tr>
<td>Lightened_moon</td><td align="center"><a href="https://github.com/tornadomeet/mxnet-face/tree/master/model/lightened_moon">Repo</a>, <a href="https://github.com/tornadomeet/mxnet-face/blob/master/model/lightened_moon/lightened_moon_fuse-symbol.json">Symbol</a>, <a href="https://github.com/tornadomeet/mxnet-face/blob/master/model/lightened_moon/lightened_moon_fuse-0082.params">Params</a> </td></tr>
<tr>
<td>RNN-Transducer</td><td align="center"><a href="https://github.com/HawkAaron/mxnet-transducer">Repo</a> </td></tr>
<tr>
<td>word_lm</td><td align="center"><a href="https://github.com/apache/incubator-mxnet/tree/master/example/rnn/word_lm">Repo</a> </td></tr>
</table>
<p><b>Other supported topologies</b></p>
<ul>
<li>Style transfer <a href="https://github.com/zhaw/neural_style">model</a> can be converted using <a class="el" href="_docs_MO_DG_prepare_model_convert_model_mxnet_specific_Convert_Style_Transfer_From_MXNet.html">instruction</a>,</li>
</ul>
<h2>Convert an MXNet* Model <a class="anchor" id="ConvertMxNet"></a></h2>
<p>To convert an MXNet* model:</p>
<ol type="1">
<li>Go to the <code>&lt;INSTALL_DIR&gt;/deployment_tools/model_optimizer</code> directory.</li>
<li>To convert an MXNet* model contained in a <code>model-file-symbol.json</code> and <code>model-file-0000.params</code>, run the Model Optimizer launch script <code>mo.py</code>, specifying a path to the input model file: <div class="fragment"><div class="line">python3 mo_mxnet.py --input_model model-file-0000.params</div></div><!-- fragment --></li>
</ol>
<p>Two groups of parameters are available to convert your model:</p>
<ul>
<li><a class="el" href="_docs_MO_DG_prepare_model_convert_model_Converting_Model_General.html">Framework-agnostic parameters</a>: These parameters are used to convert any model trained in any supported framework.</li>
<li><a href="#mxnet_specific_conversion_params">MXNet-specific parameters</a>: Parameters used to convert only MXNet models</li>
</ul>
<h3>Using MXNet*-Specific Conversion Parameters <a class="anchor" id="mxnet_specific_conversion_params"></a></h3>
<p>The following list provides the MXNet*-specific parameters.</p>
<div class="fragment"><div class="line">MXNet-specific parameters:</div><div class="line">  --input_symbol &lt;SYMBOL_FILE_NAME&gt;</div><div class="line">            Symbol file (for example, &quot;model-symbol.json&quot;) that contains a topology structure and layer attributes</div><div class="line">  --nd_prefix_name &lt;ND_PREFIX_NAME&gt;</div><div class="line">            Prefix name for args.nd and argx.nd files</div><div class="line">  --pretrained_model_name &lt;PRETRAINED_MODEL_NAME&gt;</div><div class="line">            Name of a pretrained MXNet model without extension and epoch</div><div class="line">            number. This model will be merged with args.nd and argx.nd</div><div class="line">            files</div><div class="line">  --save_params_from_nd</div><div class="line">            Enable saving built parameters file from .nd files</div><div class="line">  --legacy_mxnet_model</div><div class="line">            Enable MXNet loader to make a model compatible with the latest MXNet version.</div><div class="line">            Use only if your model was trained with MXNet version lower than 1.0.0</div><div class="line">  --enable_ssd_gluoncv</div><div class="line">            Enable transformation for converting the gluoncv ssd topologies.</div><div class="line">            Use only if your topology is one of ssd gluoncv topologies</div></div><!-- fragment --><blockquote class="doxtable">
<p><b>NOTE:</b> By default, the Model Optimizer does not use the MXNet loader, as it transforms the topology to another format, which is compatible with the latest version of MXNet, but it is required for models trained with lower version of MXNet. If your model was trained with MXNet version lower than 1.0.0, specify the <code>--legacy_mxnet_model</code> key to enable the MXNet loader. However, the loader does not support models with custom layers. In this case, you must manually recompile MXNet with custom layers and install it to your environment. </p>
</blockquote>
<h2>Custom Layer Definition</h2>
<p>Internally, when you run the Model Optimizer, it loads the model, goes through the topology, and tries to find each layer type in a list of known layers. Custom layers are layers that are not included in the list of known layers. If your topology contains any layers that are not in this list of known layers, the Model Optimizer classifies them as custom.</p>
<h2>Supported MXNet* Layers</h2>
<p>Refer to <a class="el" href="_docs_MO_DG_prepare_model_Supported_Frameworks_Layers.html">Supported Framework Layers </a> for the list of supported standard layers.</p>
<h2>Frequently Asked Questions (FAQ)</h2>
<p>The Model Optimizer provides explanatory messages if it is unable to run to completion due to issues like typographical errors, incorrectly used options, or other issues. The message describes the potential cause of the problem and gives a link to the <a class="el" href="_docs_MO_DG_prepare_model_Model_Optimizer_FAQ.html">Model Optimizer FAQ</a>. The FAQ has instructions on how to resolve most issues. The FAQ also includes links to relevant sections in the Model Optimizer Developer Guide to help you understand what went wrong.</p>
<h2>Summary</h2>
<p>In this document, you learned:</p>
<ul>
<li>Basic information about how the Model Optimizer works with MXNet* models</li>
<li>Which MXNet* models are supported</li>
<li>How to convert a trained MXNet* model using the Model Optimizer with both framework-agnostic and MXNet-specific command-line options </li>
</ul>
</div></div><!-- contents -->
  <div class="footer">
  <div id="nav-path" class="navpath"></div>
  <div class="footer-content">
    <div class="footer-column">
      <h4>Support</h4>
      <ul>
        <li>
          <a href="https://software.intel.com/en-us/forums/computer-vision">Intel Developer Zone Forum for Intel Distribution of OpenVINO Toolkit</a></li>
      </ul>
    </div>
  </div>
  <div class="copyright">
    <p>Documentation for OpenVINO Toolkit.<br/>
    For more complete information about compiler optimizations, see our <a href="/<version_placeholder>/_docs_IE_DG_Optimization_notice.html">Optimization Notice</a></p>
  </div>
</div>
</body>
</html>